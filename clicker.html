<!DOCTYPE html>
<html>
	<head>
		<title>MotdHS - Simple Clicker Game</title>
		<link rel="icon" href="./image/MotdIcon.png">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
		<link rel="stylesheet" href="style.css">
		<script src="page.js"></script>
		<script>
			console.log("script loaded")
			var currentValue
			var incrementByValue
			var upgradeValue
			currentValue = 0
			incrementByValue = 1
			upgradeValue = 50
			function clickButton() {
			    currentValue += incrementByValue
				shownValue = Math.floor(currentValue*10)/10
				document.getElementById("incrementValue").innerHTML = "Current Incremental: " + incrementByValue
 			    document.getElementById("counter").innerHTML = "Current Value: " + shownValue
				document.getElementById("upgradeProgress").value = currentValue
			    document.getElementById("upgradeProgress").max = upgradeValue
				if (currentValue >= upgradeValue) {
					document.getElementById("upgradeButton").className = "button is-success"
					document.getElementById("upgradeProgress").className = "progress is-large is-success"
				} else {
					document.getElementById("upgradeButton").className = "button is-danger"
					document.getElementById("upgradeProgress").className = "progress is-large is-danger"
				}
			}
			function upgradButton() {
				if(upgradeValue <= currentValue) {
					currentValue -= upgradeValue
					shownValue = Math.floor(currentValue*10)/10
					upgradeValue = upgradeValue * 1.3
					upgradeValue = Math.floor(upgradeValue*10)/10
					incrementByValue = incrementByValue * 1.25
					incrementByValue = Math.floor(incrementByValue*100)/100
					document.getElementById("incrementValue").innerHTML = "Current Incremental: " + incrementByValue
					document.getElementById("counter").innerHTML = "Current Value: " + shownValue
					document.getElementById("upgradeButton").innerHTML = "Upgrade (required: " + upgradeValue + ")"
					document.getElementById("upgradeProgress").value = currentValue
			  	    document.getElementById("upgradeProgress").max = upgradeValue
					if (currentValue >= upgradeValue) {
						document.getElementById("upgradeButton").className = "button is-success"
						document.getElementById("upgradeProgress").className = "progress is-large is-success"
					} else {
						document.getElementById("upgradeButton").className = "button is-danger"
						document.getElementById("upgradeProgress").className = "progress is-large is-danger"
					}
				}
			}
		</script>
	</head>
	<body>
		<p>- <a href="./index.html">Home</a> -</p>
        <div id="main">
			<p class="title is-2">Simple clicker game</p>
			<p class="subtitle is 4">Note: This is still very beta, some bugs may appear.</p>
			<p id="incrementValue">Current Incremental: 1</p>
			<p id="counter">Current Value: 0</p>
			<button class="button" id="incrementButton" onclick="clickButton()">Click to increment</button>
			<button class="button is-danger" id="upgradeButton" onclick="upgradButton()">Upgrade (required: 50)</button>
			<progress id="upgradeProgress" class="progress is-large is-danger" value="0" max="50"></progress>
		</div>
	</body>
</html>
